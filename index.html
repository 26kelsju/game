<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="game.js"></script>
</head>
<body>
    <a-scene background="color: #87CEEB" vr-mode-ui="enabled: true">
        <!-- VR Camera rig -->
        <a-entity id="rig" position="0 0 3">
            <!-- Camera -->
            <a-camera id="camera" position="0 1.6 0">
                <a-cursor 
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                    material="color: white; shader: flat"
                    raycaster="objects: .target, .control, .gameOver">
                </a-cursor>
            </a-camera>
            
            <!-- VR Controllers -->
            <a-entity id="rightController" 
                      oculus-touch-controls="hand: right"
                      raycaster="objects: .target, .control, .gameOver; lineColor: red; lineOpacity: 0.5"
                      line="color: red; opacity: 0.75">
            </a-entity>
            
            <a-entity id="leftController" 
                      oculus-touch-controls="hand: left"
                      raycaster="objects: .target, .control, .gameOver; lineColor: blue; lineOpacity: 0.5"
                      line="color: blue; opacity: 0.75">
            </a-entity>
        </a-entity>
        
        <!-- Expanded Ground for movement -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="40" height="40" color="#4CC3D9"></a-plane>
        
        <!-- Control panel -->
        <a-box id="sizeControl" class="control" position="-3 2 -3" width="1" height="0.5" depth="0.1" color="red">
            <a-text value="SIZE" position="0 0 0.06" align="center" color="white"></a-text>
        </a-box>
        
        <a-box id="speedControl" class="control" position="3 2 -3" width="1" height="0.5" depth="0.1" color="blue">
            <a-text value="SPEED" position="0 0 0.06" align="center" color="white"></a-text>
        </a-box>
        
        <a-box id="shapeControl" class="control" position="0 2 -3" width="1" height="0.5" depth="0.1" color="green">
            <a-text value="SHAPE" position="0 0 0.06" align="center" color="white"></a-text>
        </a-box>
        
        <!-- Movement Instructions -->
        <a-text id="movementInstructions" position="0 4 -3" value="VR: Left thumbstick moves | Right thumbstick turns | Desktop: WASD + mouse" align="center" color="white"></a-text>
        
        <!-- Score and Timer display -->
        <a-text id="scoreText" position="0 3 -3" value="Score: 0" align="center" color="black"></a-text>
        <a-text id="timerText" position="0 3.5 -3" value="Time: 30" align="center" color="green"></a-text>

        <!-- Game Over Screen (initially hidden) -->
        <a-plane id="gameOverScreen" class="gameOver" position="0 1.5 -2.5" width="6" height="4" color="black" opacity="0.8" visible="false">
            <a-text id="gameOverText" position="0 0.5 0.01" value="GAME OVER!" align="center" color="red"></a-text>
            <a-text id="finalScoreText" position="0 0 0.01" value="Final Score: 0" align="center" color="white"></a-text>
            <a-text id="restartText" position="0 -0.5 0.01" value="Point and click to restart" align="center" color="yellow"></a-text>
        </a-plane>
    </a-scene>
</body>
</html>
